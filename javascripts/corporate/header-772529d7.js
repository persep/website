(function(){var t=function(t,o){return function(){return t.apply(o,arguments)}};Corporate.Header=function(){function o(){this.scrollTo=t(this.scrollTo,this),this.scroll=t(this.scroll,this),this.updateNavigation=t(this.updateNavigation,this),this.getSectionsData=t(this.getSectionsData,this),this.window=$(window),this.autoScrolling=!1,this.sections=[],this.triggerBlueBgOffset=40,this.headerHeight=$("#header").outerHeight(),this.getSectionsData(),this.bindEvents()}return o.prototype.bindEvents=function(){return this.window.scroll(this.scroll),this.window.resize(this.getSectionsData),$(".scroll-to").click(this.scrollTo)},o.prototype.sectionReachedTop=function(t,o){var i;return i=this.scrollTop+this.headerHeight,i>=o.offsetTop&&i<=o.height+o.offsetTop},o.prototype.scrollReachedBottom=function(){return this.scrollTop>=this.maxScroll()},o.prototype.maxScroll=function(){return $(document).height()-this.window.height()},o.prototype.getSectionsData=function(){return $("section, #footer").each(function(t){return function(o,i){var e;return e=$(i),t.sections[e.attr("id")]={offsetTop:e.offset().top,height:e.outerHeight()}}}(this))},o.prototype.updateNavigation=function(){var t,o,i,e,s;o=this.sections,i=[];for(e in o)s=o[e],this.sectionReachedTop(e,s)||this.scrollReachedBottom()?(t=this.scrollReachedBottom()?"commitments":e,$(".header__navigation-item a").removeClass("active"),i.push($(".header__navigation-item a[href=#"+t+"]").addClass("active"))):i.push(void 0);return i},o.prototype.scroll=function(){var t,o,i;return this.scrollTop=this.window.scrollTop(),t=$("body"),i=Math.max(1,1+this.scrollTop/6e3),o=Math.min(this.scrollTop/600,1),this.scrollTop>=this.triggerBlueBgOffset?t.addClass("scrolled"):t.removeClass("scrolled"),this.scrollTop<=$("#intro").outerHeight()&&($(".parallax-bg").css("transform","scale("+i+")"),$(".parallax-bg--blur").css("opacity",o)),this.autoScrolling?void 0:this.updateNavigation()},o.prototype.scrollTo=function(t){var o,i,e,s;return t.preventDefault(),o=$(t.currentTarget),e=o.attr("href")||o.data("scroll-to"),s=this.sections[e.replace("#","")].offsetTop,i=s-this.headerHeight+1,this.autoScrolling=!0,TweenMax.to(window,.7,{scrollTo:{y:Math.min(this.maxScroll(),i),autoKill:!1},onComplete:function(t){return function(){return t.updateNavigation(),t.autoScrolling=!1}}(this)})},o}()}).call(this);